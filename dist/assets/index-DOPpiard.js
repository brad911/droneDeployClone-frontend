import{r as t,j as c}from"./index-9_Qr9l7c.js";var H=t.forwardRef(({transition:e,...o},n)=>{let i={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:e?`clip-path ${e}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return c.jsx("div",{...o,style:i,"data-rcs":"clip-item",ref:n})});H.displayName="ContainerClip";var I=t.forwardRef(({children:e,disabled:o,portrait:n,position:i,transition:s},h)=>{let b={position:"absolute",top:0,width:n?"100%":void 0,height:n?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:n?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:s?`${n?"top":"left"} ${s}`:void 0};return c.jsx("button",{ref:h,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":n?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":i,"data-rcs":"handle-container",disabled:o,role:"slider",style:b,children:e})});I.displayName="ThisHandleContainer";var F=({flip:e})=>c.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0}}),ae=({className:e="__rcs-handle-root",disabled:o,buttonStyle:n,linesStyle:i,portrait:s,style:h,...b})=>{let w={display:"flex",flexDirection:s?"row":"column",placeItems:"center",height:"100%",cursor:o?"not-allowed":s?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...h},R={flexGrow:1,height:s?2:"100%",width:s?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...i},E={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:s?"rotate(90deg)":void 0,...n};return c.jsxs("div",{...b,className:e,style:w,children:[c.jsx("div",{className:"__rcs-handle-line",style:R}),c.jsxs("div",{className:"__rcs-handle-button",style:E,children:[c.jsx(F,{}),c.jsx(F,{flip:!0})]}),c.jsx("div",{className:"__rcs-handle-line",style:R})]})},X=(e=>(e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e))(X||{}),le=({boxSizing:e="border-box",objectFit:o="cover",objectPosition:n="center center",...i}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:e,objectFit:o,objectPosition:n,...i}),ce=e=>{let o=t.useRef(e);return t.useEffect(()=>{o.current=e}),o.current},O=(e,o,n,i)=>{let s=t.useRef();t.useEffect(()=>{s.current=o},[o]),t.useEffect(()=>{if(!(n&&n.addEventListener))return;let h=b=>s.current&&s.current(b);return n.addEventListener(e,h,i),()=>{n.removeEventListener(e,h,i)}},[e,n,i])},ue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect,de=(e,o)=>{let n=t.useRef(),i=t.useCallback(()=>{e.current&&n.current&&n.current.observe(e.current)},[e]);ue(()=>(n.current=new ResizeObserver(([s])=>o(s.contentRect)),i(),()=>{n.current&&n.current.disconnect()}),[o,i])},z={capture:!1,passive:!0},D={capture:!0,passive:!1},fe=e=>{e.preventDefault(),e.currentTarget.focus()},pe=t.forwardRef(({boundsPadding:e=0,browsingContext:o=globalThis,changePositionOnHover:n=!1,disabled:i=!1,handle:s,itemOne:h,itemTwo:b,keyboardIncrement:w="5%",onlyHandleDraggable:R=!1,onPositionChange:E,portrait:a=!1,position:C=50,style:G,transition:K,...Y},q)=>{let f=t.useRef(null),N=t.useRef(null),g=t.useRef(null),p=t.useRef(C),[k,U]=t.useState(!1),[J,A]=t.useState(!0),L=t.useRef(!1),[Q,Z]=t.useState(),B=ce(C),u=t.useCallback(function({x:r,y:l,isOffset:d}){let v=f.current,j=g.current,_=N.current,{width:y,height:m,left:oe,top:ie}=v.getBoundingClientRect();if(y===0||m===0)return;let se=a?d?l-ie-o.scrollY:l:d?r-oe-o.scrollX:r,T=Math.min(Math.max(se/(a?m:y)*100,0),100),M=a?m/(v.offsetHeight||1):y/(v.offsetWidth||1),$=e*M/(a?m:y)*100,W=Math.min(Math.max(T,$*M),100-$*M);p.current=T,j.setAttribute("aria-valuenow",`${Math.round(p.current)}`),j.style.top=a?`${W}%`:"0",j.style.left=a?"0":`${W}%`,_.style.clipPath=a?`inset(${W}% 0 0 0)`:`inset(0 0 0 ${W}%)`,E&&E(p.current)},[e,E,a,o]);t.useEffect(()=>{let{width:r,height:l}=f.current.getBoundingClientRect(),d=C===B?p.current:C;u({x:r/100*d,y:l/100*d})},[e,C,a,B,u]);let V=t.useCallback(r=>{r.preventDefault(),!(i||r.button!==0)&&(u({isOffset:!0,x:r.pageX,y:r.pageY}),U(!0),A(!0))},[i,u]),x=t.useCallback(function(r){u({isOffset:!0,x:r.pageX,y:r.pageY}),A(!1)},[u]),S=t.useCallback(()=>{U(!1),A(!0)},[]),ee=t.useCallback(({width:r,height:l})=>{let{width:d,height:v}=f.current.getBoundingClientRect();u({x:r/100*p.current*d/r,y:l/100*p.current*v/l})},[u]),te=t.useCallback(r=>{if(!Object.values(X).includes(r.key))return;r.preventDefault(),A(!0);let{top:l,left:d}=g.current.getBoundingClientRect(),{width:v,height:j}=f.current.getBoundingClientRect(),_=typeof w=="string"?parseFloat(w):w/v*100,y=a?r.key==="ArrowLeft"||r.key==="ArrowDown":r.key==="ArrowRight"||r.key==="ArrowUp",m=Math.min(Math.max(y?p.current+_:p.current-_,0),100);u({x:a?d:v*m/100,y:a?j*m/100:l})},[w,a,u]);t.useEffect(()=>{Z(R?g.current:f.current)},[R]),t.useEffect(()=>{let r=f.current,l=()=>{k||S()};return n&&(r.addEventListener("pointermove",x,z),r.addEventListener("pointerleave",l,z)),()=>{r.removeEventListener("pointermove",x),r.removeEventListener("pointerleave",l)}},[n,x,S,k]),t.useEffect(()=>(k&&!L.current&&(o.addEventListener("pointermove",x,z),o.addEventListener("pointerup",S,z),L.current=!0),()=>{L.current&&(o.removeEventListener("pointermove",x),o.removeEventListener("pointerup",S),L.current=!1)}),[x,S,k,o]),t.useImperativeHandle(q,()=>({rootContainer:f.current,handleContainer:g.current,setPosition(r){let{width:l,height:d}=f.current.getBoundingClientRect();u({x:l/100*r,y:d/100*r})}}),[u]),de(f,ee),O("keydown",te,g.current,D),O("click",fe,g.current,D),O("pointerdown",V,Q,D);let re=s||c.jsx(ae,{disabled:i,portrait:a}),P=J?K:void 0,ne={position:"relative",display:"flex",overflow:"hidden",cursor:k?a?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...G};return c.jsxs("div",{...Y,ref:f,style:ne,"data-rcs":"root",children:[h,c.jsx(H,{ref:N,transition:P,children:b}),c.jsx(I,{disabled:i,portrait:a,position:Math.round(p.current),ref:g,transition:P,children:re})]})});pe.displayName="ReactCompareSlider";var he=t.forwardRef(({style:e,...o},n)=>{let i=le(e);return c.jsx("img",{ref:n,...o,style:i,"data-rcs":"image"})});he.displayName="ReactCompareSliderImage";export{pe as s};
