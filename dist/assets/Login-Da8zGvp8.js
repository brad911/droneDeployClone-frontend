import{u as L,a as S,r as B,b as D,c as A,d as z,e as P,f as F,g as m,j as e,F as x,I as p,O as g,T as o,h as W,G as t,C as E,L as f,B as G,A as T,i as q,k as V,s as M,l as R,m as H,n as O,o as $,p as U,S as j,D as N}from"./index-gpMRNU1w.js";import{V as Q,a as J}from"./VisibilityOff-CCq4AorE.js";import{I as K}from"./InputAdornment-Dyf_csst.js";import{F as X}from"./FormControlLabel-jD3qn2uN.js";function Y(){const a=L(),l=S(),[i,c]=B.useState(!1),w=()=>c(n=>!n),y=n=>n.preventDefault(),{enqueueSnackbar:d}=D(),b=A(),C=z(n=>n.auth),v=async(n,{setSubmitting:k})=>{var u,h;const I={email:n.email,password:n.password};try{const r=await V.post("/auth/login",I);r.status===200&&(d("Login successful!",{variant:"success"}),b(M({user:r.data.data.user,token:r.data.data.tokens.access.token})),localStorage.setItem("token",r.data.data.tokens.access.token),setTimeout(()=>{l("/project")},500))}catch(r){d(((h=(u=r.response)==null?void 0:u.data)==null?void 0:h.message)||"Login failed. Please try again.",{variant:"error"})}finally{k(!1)}},s=P({initialValues:{email:"",password:"",email:"bilalthetester@gmail.com",password:"Abc123!@#!@#!@#",keepLoggedIn:!0},validationSchema:F({email:m().email("Invalid email").required("Email is required"),password:m().required("Password is required")}),onSubmit:v});return e.jsxs("form",{noValidate:!0,onSubmit:s.handleSubmit,children:[e.jsxs(x,{fullWidth:!0,sx:{...a.typography.customInput},error:s.touched.email&&!!s.errors.email,children:[e.jsx(p,{onClick:()=>console.log(C),htmlFor:"email",children:"Email Address / Username"}),e.jsx(g,{id:"email",type:"email",value:s.values.email,name:"email",onBlur:s.handleBlur,onChange:s.handleChange,label:"Email Address / Username"})]}),s.touched.email&&s.errors.email&&e.jsx(o,{color:"error",variant:"caption",children:s.errors.email}),e.jsxs(x,{fullWidth:!0,sx:{...a.typography.customInput},error:s.touched.password&&!!s.errors.password,children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(g,{id:"password",type:i?"text":"password",value:s.values.password,name:"password",onBlur:s.handleBlur,onChange:s.handleChange,endAdornment:e.jsx(K,{position:"end",children:e.jsx(W,{"aria-label":"toggle password visibility",onClick:w,onMouseDown:y,edge:"end",size:"large",children:i?e.jsx(Q,{}):e.jsx(J,{})})}),label:"Password"})]}),s.touched.password&&s.errors.password&&e.jsx(o,{color:"error",variant:"caption",children:s.errors.password}),e.jsxs(t,{container:!0,sx:{alignItems:"center",justifyContent:"space-between"},children:[e.jsx(t,{item:!0,children:e.jsx(X,{control:e.jsx(E,{checked:s.values.keepLoggedIn,onChange:s.handleChange,name:"keepLoggedIn",color:"primary"}),label:"Remember me"})}),e.jsx(t,{item:!0,children:e.jsx(o,{variant:"subtitle1",component:f,to:"/forget-password",color:"secondary",sx:{textDecoration:"none"},children:"Forgot Password?"})})]}),e.jsx(G,{sx:{mt:2},children:e.jsx(T,{children:e.jsx(q,{color:"secondary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Log In"})})})]})}function te(){const a=R(),l=H(c=>c.breakpoints.down("md")),i=()=>{console.log("Trigger Google Login")};return e.jsx(O,{children:e.jsx(t,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:e.jsx(t,{size:12,children:e.jsx(t,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx($,{children:e.jsxs(t,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(t,{sx:{mb:3,textDecoration:"none"},children:e.jsx(U,{})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(t,{children:e.jsxs(j,{spacing:1,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(o,{gutterBottom:!0,variant:l?"h3":"h2",sx:{color:"secondary.main"},children:"Hi, Welcome Back"}),e.jsx(o,{variant:"caption",sx:{fontSize:"16px",textAlign:{xs:"center",md:"inherit"}},children:"Enter your credentials to continue"})]})})})}),e.jsxs(t,{size:12,children:[e.jsx(Y,{}),e.jsx(t,{sx:{mt:4},item:!0,xs:12,children:e.jsx(j,{direction:"row",justifyContent:"center",children:e.jsxs("button",{onClick:i,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontWeight:500,fontSize:"14px"},children:[e.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",style:{width:20,height:20,marginRight:10}}),"Login with Google"]})})})]}),e.jsx(t,{size:12,children:e.jsx(N,{})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:"column",sx:{alignItems:"center"},size:12,children:e.jsx(o,{component:f,to:"/register",variant:"subtitle1",sx:{textDecoration:"underline",textDecorationColor:a.palette.secondary[200],color:"inherit","&:hover":{textDecorationColor:a.palette.secondary[800]}},children:"Don't have an account?"})})})]})})})})})})})}export{te as default};
