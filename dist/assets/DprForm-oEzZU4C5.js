import{r as n,j as e,D as z,P as u,M as se,B as d,T as S,aA as ae,aB as re,aE as le,G as s,af as ne,S as E,ah as ie,ao as oe}from"./index-B3qUXRAV.js";import{A as ue}from"./Add-DhlF-Fjj.js";import{F as B}from"./OutlinedInput-BYYlpLgi.js";import{T as l}from"./TextField-DKxXZjVI.js";import{M as p}from"./MenuItem-RZIFcSIu.js";import{I as w}from"./InputAdornment-Dq_srtK9.js";import{I as ce}from"./IconBuildingCog-B76fWCAl.js";import{I as G,B as W}from"./InputLabel-aQBoxI21.js";import{S as Q}from"./Select-BV9zborq.js";import"./FormHelperText-CqKLb3EX.js";function V({captionLabel:o,currencies:m,formState:I,iconPrimary:P,iconSecondary:j,selected:L,textPrimary:b,textSecondary:A}){const F=P,g=P?e.jsx(F,{fontSize:"small",sx:{color:"grey.700"}}):null,R=j,v=j?e.jsx(R,{fontSize:"small",sx:{color:"grey.700"}}):null,D=I==="error",M=L||"",[x,f]=n.useState(M),T=i=>{i!=null&&i.target.value&&f(i==null?void 0:i.target.value)};return e.jsx(B,{fullWidth:!0,error:D,children:e.jsx(l,{id:"outlined-select-currency",select:!0,fullWidth:!0,label:o,value:x,onChange:T,slotProps:{input:{startAdornment:e.jsxs(e.Fragment,{children:[g&&e.jsx(w,{position:"start",children:g}),b&&e.jsxs(e.Fragment,{children:[e.jsx(w,{position:"start",children:b}),e.jsx(z,{sx:{height:28,m:.5},orientation:"vertical"})]})]}),endAdornment:e.jsxs(e.Fragment,{children:[v&&e.jsx(w,{position:"end",children:v}),A&&e.jsxs(e.Fragment,{children:[e.jsx(z,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(w,{position:"end",children:A})]})]})}},children:m==null?void 0:m.map((i,k)=>e.jsx(p,{value:i.value,children:i.label},k))})})}V.propTypes={captionLabel:u.string,currencies:u.object,formState:u.string,iconPrimary:u.any,iconSecondary:u.any,selected:u.string,textPrimary:u.string,textSecondary:u.string};const de=[{value:"sunny",label:"Sunny"},{value:"cloudy",label:"Cloudy"},{value:"windy",label:"Windy"},{value:"rainy",label:"Rainy"}],me=[{value:"completed",label:"Completed"},{value:"in_progress",label:"In Progress"},{value:"delayed",label:"Delayed"},{value:"planned",label:"Planned Further"}],Se=()=>{const[o,m]=n.useState({name:"",location:"",contractId:"",team:[]}),[I,P]=n.useState(()=>new Date().toISOString().split("T")[0]),[j,L]=n.useState(()=>{const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}),[b,A]=n.useState(""),[F,g]=n.useState(""),[R,v]=n.useState(""),[D,M]=n.useState(""),[x,f]=n.useState([{name:"",quantity:"",unit:"",status:"",cost:""}]),[T,i]=n.useState(""),[k,$]=n.useState(""),[H,K]=n.useState(""),[_,J]=n.useState(""),[q,X]=n.useState([]),[y,U]=n.useState(""),[C,N]=n.useState([]),h=(t,a,r)=>{const c=[...x];c[t][a]=r,f(c)},Y=()=>{f([...x,{name:"",quantity:"",unit:"",status:"",cost:""}])},Z=()=>{y.trim()&&(N([...C,y.trim()]),U(""))},ee=t=>{const a=Array.from(t.target.files);X(r=>[...r,...a])},te=[{title:"Projects",to:"/project",icon:re},{title:"Project Name",to:"/project/1/View",icon:ce},{title:"Progress Report",icon:le}];return e.jsxs(se,{children:[e.jsxs(d,{children:[e.jsx(S,{variant:"h1",gutterBottom:!0,children:"Generate Progress Report"}),e.jsx(ae,{links:te,card:!0,custom:!0,rightAlign:!1})]}),e.jsx(S,{variant:"subtitle1",sx:{mb:2},children:"Fill in the details for today's progress report"}),e.jsxs(d,{component:"form",noValidate:!0,autoComplete:"off",children:[e.jsxs(s,{container:!0,spacing:2,sx:{mb:2,border:"1px solid #e0e0e0",borderRadius:2,p:2,flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(l,{label:"Project",value:o.name,sx:{mb:1},fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(l,{label:"Project Location",value:o.location,fullWidth:!0,sx:{mb:1}})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(l,{label:"Contract ID/Project number",value:o.contractId,fullWidth:!0,sx:{mb:1}})}),e.jsx(s,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsx(l,{label:"From",type:"date",value:I,onChange:t=>setDate(t.target.value),fullWidth:!0,sx:{mb:1}})}),e.jsx(s,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsx(l,{label:"To",type:"date",value:j,onChange:t=>setDate(t.target.value),fullWidth:!0,sx:{mb:1}})}),e.jsx(s,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsxs(B,{fullWidth:!0,sx:{mb:1},children:[e.jsx(G,{id:"project-team-label",children:"Project Team"}),e.jsxs(Q,{labelId:"project-team-label",label:"Project Team",multiple:!0,value:o.team,onChange:t=>m(a=>({...a,team:t.target.value})),renderValue:t=>t.join(", "),children:[e.jsx(p,{value:"alice@example.com",children:"alice@example.com"}),e.jsx(p,{value:"bob@example.com",children:"bob@example.com"}),e.jsx(p,{value:"carol@example.com",children:"carol@example.com"}),e.jsx(p,{value:"dave@example.com",children:"dave@example.com"})]})]})})]}),o.team.length>0&&e.jsxs(ne,{spacing:2,sx:{mt:2,mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:2,width:"100%"},children:[e.jsx(S,{variant:"subtitle2",sx:{mb:1,color:"text.secondary"},children:"Project Team Members"}),e.jsx(E,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:o.team.map((t,a)=>{var r;return e.jsx(ie,{label:t,avatar:e.jsx(oe,{sx:{bgcolor:"primary.main",width:24,height:24,fontSize:14},children:(r=t[0])==null?void 0:r.toUpperCase()}),sx:{mb:1}},a)})})]}),e.jsx(d,{sx:{mb:2},children:e.jsx(V,{captionLabel:"Weather Conditions",currencies:de,selected:b,formState:"",textPrimary:null,textSecondary:null,iconPrimary:null,iconSecondary:null})}),e.jsxs(s,{container:!0,justifyContent:"space-between",sx:{mb:2,flexWrap:"nowrap",borderRadius:2},children:[e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(l,{label:"Manpower",value:F,onChange:t=>g(t.target.value),fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(l,{label:"Material",value:R,onChange:t=>v(t.target.value),fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(l,{label:"Machinery",value:D,onChange:t=>M(t.target.value),fullWidth:!0})})]}),e.jsxs(d,{sx:{mb:2,border:"1px solid #e0e0e0",borderRadius:2,p:2},children:[e.jsx(S,{variant:"h5",sx:{mb:1},children:"Activity Progress"}),x.map((t,a)=>e.jsxs(s,{container:!0,spacing:2,sx:{mb:1},children:[e.jsx(s,{item:!0,xs:12,md:5,children:e.jsx(l,{label:"Activity Name",value:t.name,onChange:r=>h(a,"name",r.target.value),fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(l,{label:"Quantity",value:t.quantity,onChange:r=>h(a,"quantity",r.target.value),fullWidth:!0,type:"number"})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(l,{label:"Unit",value:t.unit,onChange:r=>h(a,"unit",r.target.value),fullWidth:!0,type:"text"})}),e.jsx(s,{item:!0,xs:12,md:4,children:e.jsxs(B,{fullWidth:!0,children:[e.jsx(G,{children:"Status"}),e.jsx(Q,{label:"Status",value:t.status,onChange:r=>h(a,"status",r.target.value),inputComponent:({inputRef:r,...c})=>e.jsxs("select",{ref:r,...c,style:{width:"100%",height:"100%",border:"none",background:"none"},children:[e.jsx("option",{value:""}),me.map(O=>e.jsx("option",{value:O.value,children:O.label},O.value))]})})]})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(l,{label:"Cost",value:t.cost,onChange:r=>h(a,"cost",r.target.value),fullWidth:!0,type:"text"})})]},a)),e.jsx(W,{variant:"outlined",startIcon:e.jsx(ue,{}),onClick:Y,sx:{mt:1},children:"Add Activity"})]}),e.jsx(d,{sx:{mb:2},children:e.jsx(l,{label:"Hindrances and Challenges",value:T,onChange:t=>i(t.target.value),fullWidth:!0,multiline:!0,minRows:2,placeholder:"Describe any issues or challenges encountered"})}),e.jsxs(s,{container:!0,spacing:2,sx:{mb:2,borderRadius:2,border:"1px solid #e0e0e0",flexWrap:"nowrap"},children:[e.jsx(s,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",width:"33%"},children:e.jsx(l,{label:"Key Milestones Achieved",value:k,onChange:t=>$(t.target.value),fullWidth:!0,multiline:!0,minRows:2})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(l,{label:"Quality Observations",value:H,onChange:t=>K(t.target.value),fullWidth:!0,multiline:!0,minRows:2})}),e.jsx(s,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(l,{label:"Safety Remarks",value:_,onChange:t=>J(t.target.value),fullWidth:!0,multiline:!0,minRows:2})})]}),e.jsxs(W,{variant:"outlined",component:"label",sx:{mt:1,mb:2},children:["Add Photos",e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:ee})]}),q.length>0&&e.jsx(d,{sx:{mt:1},children:e.jsx(s,{container:!0,spacing:1,children:q.map((t,a)=>e.jsx(s,{item:!0,children:e.jsx("img",{src:URL.createObjectURL(t),alt:`uploaded-${a}`,style:{width:60,height:60,objectFit:"cover",borderRadius:4,border:"1px solid #ccc"}})},a))})}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(l,{label:"Create New Field",value:y,onChange:t=>U(t.target.value),sx:{flex:1,mr:2}}),e.jsx(W,{variant:"contained",onClick:Z,disabled:!y.trim(),children:"Add +"})]}),C.length>0&&e.jsx(E,{spacing:2,sx:{mb:2},children:C.map((t,a)=>e.jsx(l,{fullWidth:!0,label:`Custom Field ${a+1}`,value:t,onChange:r=>{const c=[...C];c[a]=r.target.value,N(c)}},a))}),e.jsx(W,{variant:"contained",color:"primary",fullWidth:!0,children:"Submit"})]})]})};export{Se as default};
