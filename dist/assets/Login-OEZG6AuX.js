import{u as I,a as L,r as S,b as D,c as B,d as A,e as z,f as P,g as m,j as e,F as g,I as p,O as j,T as o,h as F,i as W,G as t,k as E,C as G,L as d,B as T,A as q,l as V,m as M,s as R,n as H,o as O,p as $,S as f,D as U}from"./index-C19Ib4LQ.js";import{V as N,a as Q,A as J,b as K}from"./VisibilityOff-BVHnpUPW.js";function X(){const a=I(),l=L(),[i,c]=S.useState(!1),y=()=>c(n=>!n),w=n=>n.preventDefault(),{enqueueSnackbar:u}=D(),b=B(),C=A(n=>n.auth),k=async(n,{setSubmitting:v})=>{var h,x;delete n.keepLoggedIn;try{const r=await M.post("/auth/login",n);r.status===200&&(u("Login successful!",{variant:"success"}),b(R({user:r.data.data.user,token:r.data.data.tokens.access.token})),localStorage.setItem("token",r.data.data.tokens.access.token),setTimeout(()=>{l("/dashboard")},500))}catch(r){u(((x=(h=r.response)==null?void 0:h.data)==null?void 0:x.message)||"Login failed. Please try again.",{variant:"error"})}finally{v(!1)}},s=z({initialValues:{email:"bilalfire97@gmail.com",password:"Abc123!@#",keepLoggedIn:!0},validationSchema:P({email:m().email("Invalid email").required("Email is required"),password:m().required("Password is required")}),onSubmit:k});return e.jsxs("form",{noValidate:!0,onSubmit:s.handleSubmit,children:[e.jsxs(g,{fullWidth:!0,sx:{...a.typography.customInput},error:s.touched.email&&!!s.errors.email,children:[e.jsx(p,{onClick:()=>console.log(C),htmlFor:"email",children:"Email Address / Username"}),e.jsx(j,{id:"email",type:"email",value:s.values.email,name:"email",onBlur:s.handleBlur,onChange:s.handleChange,label:"Email Address / Username"})]}),s.touched.email&&s.errors.email&&e.jsx(o,{color:"error",variant:"caption",children:s.errors.email}),e.jsxs(g,{fullWidth:!0,sx:{...a.typography.customInput},error:s.touched.password&&!!s.errors.password,children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(j,{id:"password",type:i?"text":"password",value:s.values.password,name:"password",onBlur:s.handleBlur,onChange:s.handleChange,endAdornment:e.jsx(F,{position:"end",children:e.jsx(W,{"aria-label":"toggle password visibility",onClick:y,onMouseDown:w,edge:"end",size:"large",children:i?e.jsx(N,{}):e.jsx(Q,{})})}),label:"Password"})]}),s.touched.password&&s.errors.password&&e.jsx(o,{color:"error",variant:"caption",children:s.errors.password}),e.jsxs(t,{container:!0,sx:{alignItems:"center",justifyContent:"space-between"},children:[e.jsx(t,{item:!0,children:e.jsx(E,{control:e.jsx(G,{checked:s.values.keepLoggedIn,onChange:s.handleChange,name:"keepLoggedIn",color:"primary"}),label:"Remember me"})}),e.jsx(t,{item:!0,children:e.jsx(o,{variant:"subtitle1",component:d,to:"/forgot-password",color:"secondary",sx:{textDecoration:"none"},children:"Forgot Password?"})})]}),e.jsx(T,{sx:{mt:2},children:e.jsx(q,{children:e.jsx(V,{color:"secondary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Log In"})})})]})}function _(){const a=H(),l=O(c=>c.breakpoints.down("md")),i=()=>{console.log("Trigger Google Login")};return e.jsx(J,{children:e.jsx(t,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:e.jsx(t,{size:12,children:e.jsx(t,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(K,{children:e.jsxs(t,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(t,{sx:{mb:3,textDecoration:"none"},children:e.jsx(d,{style:{textDecoration:"none"},to:"/","aria-label":"logo",children:e.jsx($,{})})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(t,{children:e.jsxs(f,{spacing:1,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(o,{gutterBottom:!0,variant:l?"h3":"h2",sx:{color:"secondary.main"},children:"Hi, Welcome Back"}),e.jsx(o,{variant:"caption",sx:{fontSize:"16px",textAlign:{xs:"center",md:"inherit"}},children:"Enter your credentials to continue"})]})})})}),e.jsxs(t,{size:12,children:[e.jsx(X,{}),e.jsx(t,{sx:{mt:4},item:!0,xs:12,children:e.jsx(f,{direction:"row",justifyContent:"center",children:e.jsxs("button",{onClick:i,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 20px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff",cursor:"pointer",fontWeight:500,fontSize:"14px"},children:[e.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo",style:{width:20,height:20,marginRight:10}}),"Login with Google"]})})})]}),e.jsx(t,{size:12,children:e.jsx(U,{})}),e.jsx(t,{size:12,children:e.jsx(t,{container:!0,direction:"column",sx:{alignItems:"center"},size:12,children:e.jsx(o,{component:d,to:"/register",variant:"subtitle1",sx:{textDecoration:"underline",textDecorationColor:a.palette.secondary[200],color:"inherit","&:hover":{textDecorationColor:a.palette.secondary[800]}},children:"Don't have an account?"})})})]})})})})})})})}export{_ as default};
