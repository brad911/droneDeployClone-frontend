import{r as n,j as e,F as B,X as r,M as j,h as w,D as z,P as u,N as ae,B as d,T as S,az as se,aA as le,aB as re,aF as ne,G as a,I as G,x as Q,a5 as ie,S as V,aa as oe,ah as ue,k as W,Y as ce}from"./index-D7lqPC1g.js";function E({captionLabel:o,currencies:x,formState:P,iconPrimary:I,iconSecondary:p,selected:L,textPrimary:b,textSecondary:F}){const A=I,g=I?e.jsx(A,{fontSize:"small",sx:{color:"grey.700"}}):null,R=p,v=p?e.jsx(R,{fontSize:"small",sx:{color:"grey.700"}}):null,D=P==="error",M=L||"",[m,y]=n.useState(M),T=i=>{i!=null&&i.target.value&&y(i==null?void 0:i.target.value)};return e.jsx(B,{fullWidth:!0,error:D,children:e.jsx(r,{id:"outlined-select-currency",select:!0,fullWidth:!0,label:o,value:m,onChange:T,slotProps:{input:{startAdornment:e.jsxs(e.Fragment,{children:[g&&e.jsx(w,{position:"start",children:g}),b&&e.jsxs(e.Fragment,{children:[e.jsx(w,{position:"start",children:b}),e.jsx(z,{sx:{height:28,m:.5},orientation:"vertical"})]})]}),endAdornment:e.jsxs(e.Fragment,{children:[v&&e.jsx(w,{position:"end",children:v}),F&&e.jsxs(e.Fragment,{children:[e.jsx(z,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(w,{position:"end",children:F})]})]})}},children:x==null?void 0:x.map((i,k)=>e.jsx(j,{value:i.value,children:i.label},k))})})}E.propTypes={captionLabel:u.string,currencies:u.object,formState:u.string,iconPrimary:u.any,iconSecondary:u.any,selected:u.string,textPrimary:u.string,textSecondary:u.string};const de=[{value:"sunny",label:"Sunny"},{value:"cloudy",label:"Cloudy"},{value:"windy",label:"Windy"},{value:"rainy",label:"Rainy"}],xe=[{value:"completed",label:"Completed"},{value:"in_progress",label:"In Progress"},{value:"delayed",label:"Delayed"},{value:"planned",label:"Planned Further"}],he=()=>{const[o,x]=n.useState({name:"",location:"",contractId:"",team:[]}),[P,I]=n.useState(()=>new Date().toISOString().split("T")[0]),[p,L]=n.useState(()=>{const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}),[b,F]=n.useState(""),[A,g]=n.useState(""),[R,v]=n.useState(""),[D,M]=n.useState(""),[m,y]=n.useState([{name:"",quantity:"",unit:"",status:"",cost:""}]),[T,i]=n.useState(""),[k,$]=n.useState(""),[H,K]=n.useState(""),[X,Y]=n.useState(""),[q,_]=n.useState([]),[f,N]=n.useState(""),[C,U]=n.useState([]),h=(t,s,l)=>{const c=[...m];c[t][s]=l,y(c)},J=()=>{y([...m,{name:"",quantity:"",unit:"",status:"",cost:""}])},Z=()=>{f.trim()&&(U([...C,f.trim()]),N(""))},ee=t=>{const s=Array.from(t.target.files);_(l=>[...l,...s])},te=[{title:"Projects",to:"/project",icon:le},{title:"Project Name",to:"/project/1/View",icon:re},{title:"Progress Report",icon:ne}];return e.jsxs(ae,{children:[e.jsxs(d,{children:[e.jsx(S,{variant:"h1",gutterBottom:!0,children:"Generate Progress Report"}),e.jsx(se,{links:te,card:!0,custom:!0,rightAlign:!1})]}),e.jsx(S,{variant:"subtitle1",sx:{mb:2},children:"Fill in the details for today's progress report"}),e.jsxs(d,{component:"form",noValidate:!0,autoComplete:"off",children:[e.jsxs(a,{container:!0,spacing:2,sx:{mb:2,border:"1px solid #e0e0e0",borderRadius:2,p:2,flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(r,{label:"Project",value:o.name,sx:{mb:1},fullWidth:!0})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(r,{label:"Project Location",value:o.location,fullWidth:!0,sx:{mb:1}})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"20%"},children:e.jsx(r,{label:"Contract ID/Project number",value:o.contractId,fullWidth:!0,sx:{mb:1}})}),e.jsx(a,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsx(r,{label:"From",type:"date",value:P,onChange:t=>setDate(t.target.value),fullWidth:!0,sx:{mb:1}})}),e.jsx(a,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsx(r,{label:"To",type:"date",value:p,onChange:t=>setDate(t.target.value),fullWidth:!0,sx:{mb:1}})}),e.jsx(a,{item:!0,xs:12,md:6,sx:{width:"20%"},children:e.jsxs(B,{fullWidth:!0,sx:{mb:1},children:[e.jsx(G,{id:"project-team-label",children:"Project Team"}),e.jsxs(Q,{labelId:"project-team-label",label:"Project Team",multiple:!0,value:o.team,onChange:t=>x(s=>({...s,team:t.target.value})),renderValue:t=>t.join(", "),children:[e.jsx(j,{value:"alice@example.com",children:"alice@example.com"}),e.jsx(j,{value:"bob@example.com",children:"bob@example.com"}),e.jsx(j,{value:"carol@example.com",children:"carol@example.com"}),e.jsx(j,{value:"dave@example.com",children:"dave@example.com"})]})]})})]}),o.team.length>0&&e.jsxs(ie,{spacing:2,sx:{mt:2,mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:2,width:"100%"},children:[e.jsx(S,{variant:"subtitle2",sx:{mb:1,color:"text.secondary"},children:"Project Team Members"}),e.jsx(V,{direction:"row",spacing:1,sx:{flexWrap:"wrap"},children:o.team.map((t,s)=>{var l;return e.jsx(oe,{label:t,avatar:e.jsx(ue,{sx:{bgcolor:"primary.main",width:24,height:24,fontSize:14},children:(l=t[0])==null?void 0:l.toUpperCase()}),sx:{mb:1}},s)})})]}),e.jsx(d,{sx:{mb:2},children:e.jsx(E,{captionLabel:"Weather Conditions",currencies:de,selected:b,formState:"",textPrimary:null,textSecondary:null,iconPrimary:null,iconSecondary:null})}),e.jsxs(a,{container:!0,justifyContent:"space-between",sx:{mb:2,flexWrap:"nowrap",borderRadius:2},children:[e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(r,{label:"Manpower",value:A,onChange:t=>g(t.target.value),fullWidth:!0})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(r,{label:"Material",value:R,onChange:t=>v(t.target.value),fullWidth:!0})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(r,{label:"Machinery",value:D,onChange:t=>M(t.target.value),fullWidth:!0})})]}),e.jsxs(d,{sx:{mb:2,border:"1px solid #e0e0e0",borderRadius:2,p:2},children:[e.jsx(S,{variant:"h5",sx:{mb:1},children:"Activity Progress"}),m.map((t,s)=>e.jsxs(a,{container:!0,spacing:2,sx:{mb:1},children:[e.jsx(a,{item:!0,xs:12,md:5,children:e.jsx(r,{label:"Activity Name",value:t.name,onChange:l=>h(s,"name",l.target.value),fullWidth:!0})}),e.jsx(a,{item:!0,xs:12,md:3,children:e.jsx(r,{label:"Quantity",value:t.quantity,onChange:l=>h(s,"quantity",l.target.value),fullWidth:!0,type:"number"})}),e.jsx(a,{item:!0,xs:12,md:3,children:e.jsx(r,{label:"Unit",value:t.unit,onChange:l=>h(s,"unit",l.target.value),fullWidth:!0,type:"text"})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(B,{fullWidth:!0,children:[e.jsx(G,{children:"Status"}),e.jsx(Q,{label:"Status",value:t.status,onChange:l=>h(s,"status",l.target.value),inputComponent:({inputRef:l,...c})=>e.jsxs("select",{ref:l,...c,style:{width:"100%",height:"100%",border:"none",background:"none"},children:[e.jsx("option",{value:""}),xe.map(O=>e.jsx("option",{value:O.value,children:O.label},O.value))]})})]})}),e.jsx(a,{item:!0,xs:12,md:3,children:e.jsx(r,{label:"Cost",value:t.cost,onChange:l=>h(s,"cost",l.target.value),fullWidth:!0,type:"text"})})]},s)),e.jsx(W,{variant:"outlined",startIcon:e.jsx(ce,{}),onClick:J,sx:{mt:1},children:"Add Activity"})]}),e.jsx(d,{sx:{mb:2},children:e.jsx(r,{label:"Hindrances and Challenges",value:T,onChange:t=>i(t.target.value),fullWidth:!0,multiline:!0,minRows:2,placeholder:"Describe any issues or challenges encountered"})}),e.jsxs(a,{container:!0,spacing:2,sx:{mb:2,borderRadius:2,border:"1px solid #e0e0e0",flexWrap:"nowrap"},children:[e.jsx(a,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",width:"33%"},children:e.jsx(r,{label:"Key Milestones Achieved",value:k,onChange:t=>$(t.target.value),fullWidth:!0,multiline:!0,minRows:2})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(r,{label:"Quality Observations",value:H,onChange:t=>K(t.target.value),fullWidth:!0,multiline:!0,minRows:2})}),e.jsx(a,{item:!0,xs:12,md:4,sx:{width:"33%"},children:e.jsx(r,{label:"Safety Remarks",value:X,onChange:t=>Y(t.target.value),fullWidth:!0,multiline:!0,minRows:2})})]}),e.jsxs(W,{variant:"outlined",component:"label",sx:{mt:1,mb:2},children:["Add Photos",e.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:ee})]}),q.length>0&&e.jsx(d,{sx:{mt:1},children:e.jsx(a,{container:!0,spacing:1,children:q.map((t,s)=>e.jsx(a,{item:!0,children:e.jsx("img",{src:URL.createObjectURL(t),alt:`uploaded-${s}`,style:{width:60,height:60,objectFit:"cover",borderRadius:4,border:"1px solid #ccc"}})},s))})}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{label:"Create New Field",value:f,onChange:t=>N(t.target.value),sx:{flex:1,mr:2}}),e.jsx(W,{variant:"contained",onClick:Z,disabled:!f.trim(),children:"Add +"})]}),C.length>0&&e.jsx(V,{spacing:2,sx:{mb:2},children:C.map((t,s)=>e.jsx(r,{fullWidth:!0,label:`Custom Field ${s+1}`,value:t,onChange:l=>{const c=[...C];c[s]=l.target.value,U(c)}},s))}),e.jsx(W,{variant:"contained",color:"primary",fullWidth:!0,children:"Submit"})]})]})};export{he as default};
