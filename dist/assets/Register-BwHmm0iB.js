import{u as D,r as A,b as W,a as F,e as L,f as O,v as E,g as o,w as M,j as e,G as s,B as v,T as h,F as t,I as i,O as d,x as a,y as C,M as u,h as b,i as B,k as R,L as x,C as T,A as G,l as V,m as $,n as H,o as Y,p as Q,q as J,t as K,S as U,D as X}from"./index-CyxoyYgp.js";import{V as N,a as z}from"./VisibilityOff-CQymQrC8.js";function Z(){const n=D(),[c,I]=A.useState(!1),{enqueueSnackbar:m}=W(),P=F(),g=()=>I(l=>!l),j=l=>l.preventDefault(),q=async(l,{setSubmitting:p,resetForm:S})=>{var f,y;p(!0),delete l.confirmPassword,delete l.terms;try{(await $.post("/user",l)).status===201&&m("Registration successful!",{variant:"success"}),P("/login"),m("Verify Your Email To Login",{variant:"success"}),S()}catch(w){const k=((y=(f=w.response)==null?void 0:f.data)==null?void 0:y.message)||"Registration failed. Please try again.";m(k,{variant:"error"})}finally{p(!1)}},r=L({initialValues:{firstName:"",lastName:"",email:"",organization:"",role:"",designation:"",gender:"",password:"",confirmPassword:"",terms:!0},validationSchema:O({firstName:o().required("First name is required"),lastName:o().required("Last name is required"),email:o().email("Invalid email").required("Email is required"),organization:o().required("Organization is required"),role:o().required("Role is required"),designation:o().required("Designation is required"),gender:o().required("Gender is required"),password:o().min(6,"Minimum 6 characters").required("Password is required"),confirmPassword:o().oneOf([M("password"),null],"Passwords must match").required("Confirm your password"),terms:E().oneOf([!0],"You must accept the terms and conditions")}),onSubmit:q});return e.jsxs("form",{onSubmit:r.handleSubmit,children:[e.jsx(s,{container:!0,direction:"column",spacing:2,sx:{justifyContent:"center"},children:e.jsx(s,{container:!0,sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(v,{sx:{mb:2},children:e.jsx(h,{variant:"subtitle1",children:"Sign up with Email address"})})})}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(t,{fullWidth:!0,error:r.touched.firstName&&!!r.errors.firstName,sx:n.typography.customInput,children:[e.jsx(i,{children:"First Name"}),e.jsx(d,{name:"firstName",value:r.values.firstName,onChange:r.handleChange,onBlur:r.handleBlur,label:"First Name"}),r.touched.firstName&&r.errors.firstName&&e.jsx(a,{children:r.errors.firstName})]})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsxs(t,{fullWidth:!0,error:r.touched.lastName&&!!r.errors.lastName,sx:n.typography.customInput,children:[e.jsx(i,{children:"Last Name"}),e.jsx(d,{name:"lastName",value:r.values.lastName,onChange:r.handleChange,onBlur:r.handleBlur,label:"Last Name"}),r.touched.lastName&&r.errors.lastName&&e.jsx(a,{children:r.errors.lastName})]})}),e.jsxs(t,{fullWidth:!0,error:r.touched.email&&!!r.errors.email,sx:n.typography.customInput,children:[e.jsx(i,{children:"Email Address"}),e.jsx(d,{name:"email",type:"email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur,label:"Email Address"}),r.touched.email&&r.errors.email&&e.jsx(a,{children:r.errors.email})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.organization&&!!r.errors.organization,sx:n.typography.customInput,children:[e.jsx(i,{children:"Organization"}),e.jsx(d,{name:"organization",value:r.values.organization,onChange:r.handleChange,onBlur:r.handleBlur,label:"Organization"}),r.touched.organization&&r.errors.organization&&e.jsx(a,{children:r.errors.organization})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.role&&!!r.errors.role,sx:n.typography.customSelect,children:[e.jsx(i,{children:"Role"}),e.jsxs(C,{name:"role",value:r.values.role,onChange:r.handleChange,onBlur:r.handleBlur,label:"Role",children:[e.jsx(u,{value:"client",children:"Client"}),e.jsx(u,{value:"contractor",children:"Contractor"}),e.jsx(u,{value:"consultant",children:"Consultant"})]}),r.touched.role&&r.errors.role&&e.jsx(a,{children:r.errors.role})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.designation&&!!r.errors.designation,sx:n.typography.customInput,children:[e.jsx(i,{children:"Designation"}),e.jsx(d,{name:"designation",value:r.values.designation,onChange:r.handleChange,onBlur:r.handleBlur,label:"Designation"}),r.touched.designation&&r.errors.designation&&e.jsx(a,{children:r.errors.designation})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.gender&&!!r.errors.gender,sx:n.typography.customSelect,children:[e.jsx(i,{children:"Gender"}),e.jsxs(C,{name:"gender",value:r.values.gender,onChange:r.handleChange,onBlur:r.handleBlur,label:"Gender",children:[e.jsx(u,{value:"male",children:"Male"}),e.jsx(u,{value:"female",children:"Female"}),e.jsx(u,{value:"other",children:"Other"})]}),r.touched.gender&&r.errors.gender&&e.jsx(a,{children:r.errors.gender})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.password&&!!r.errors.password,sx:n.typography.customInput,children:[e.jsx(i,{children:"Password"}),e.jsx(d,{name:"password",type:c?"text":"password",value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur,label:"Password",endAdornment:e.jsx(b,{position:"end",children:e.jsx(B,{onClick:g,onMouseDown:j,edge:"end",size:"large",children:c?e.jsx(N,{}):e.jsx(z,{})})})}),r.touched.password&&r.errors.password&&e.jsx(a,{children:r.errors.password})]}),e.jsxs(t,{fullWidth:!0,error:r.touched.confirmPassword&&!!r.errors.confirmPassword,sx:n.typography.customInput,children:[e.jsx(i,{children:"Confirm Password"}),e.jsx(d,{name:"confirmPassword",type:c?"text":"password",value:r.values.confirmPassword,onChange:r.handleChange,onBlur:r.handleBlur,label:"Confirm Password",endAdornment:e.jsx(b,{position:"end",children:e.jsx(B,{onClick:g,onMouseDown:j,edge:"end",size:"large",children:c?e.jsx(N,{}):e.jsx(z,{})})})}),r.touched.confirmPassword&&r.errors.confirmPassword&&e.jsx(a,{children:r.errors.confirmPassword})]}),e.jsx(R,{control:e.jsx(T,{name:"terms",checked:r.values.terms,onChange:r.handleChange,color:"primary"}),label:e.jsxs(h,{variant:"subtitle1",children:["Agree withÂ ",e.jsx(h,{variant:"subtitle1",component:x,to:"#",children:"Terms & Conditions"})]})}),r.touched.terms&&r.errors.terms&&e.jsx(a,{error:!0,children:r.errors.terms}),e.jsx(v,{sx:{mt:2},children:e.jsx(G,{children:e.jsx(V,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Sign up"})})})]})}function re(){const n=H();return Y(c=>c.breakpoints.down("md")),e.jsx(Q,{children:e.jsx(s,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:e.jsx(s,{size:12,children:e.jsx(s,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 38px)"},children:e.jsx(s,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(J,{children:e.jsxs(s,{container:!0,spacing:0,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(s,{sx:{mb:3},children:e.jsx(x,{style:{textDecoration:"none"},to:"#","aria-label":"theme logo",children:e.jsx(K,{})})}),e.jsx(s,{size:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(s,{children:e.jsx(U,{spacing:1,sx:{alignItems:"center",justifyContent:"center"}})})})}),e.jsx(s,{size:12,children:e.jsx(Z,{})}),e.jsx(s,{size:12,children:e.jsx(X,{})}),e.jsx(s,{size:12,children:e.jsx(s,{container:!0,direction:"column",sx:{alignItems:"center"},size:12,children:e.jsx(h,{component:x,to:"/login",variant:"subtitle1",sx:{textDecoration:"underline",textDecorationColor:n.palette.secondary[200],color:"inherit","&:hover":{textDecorationColor:n.palette.secondary[800]}},children:"Already have an account?"})})})]})})})})})})})}export{re as default};
